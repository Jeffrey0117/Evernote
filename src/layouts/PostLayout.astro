---
import BaseLayout from './BaseLayout.astro';

interface Props {
  frontmatter: {
    title: string;
    date: string;
    tags?: string[];
    description?: string;
  };
}

const { frontmatter } = Astro.props;

const formatDate = (dateStr: string) => {
  const date = new Date(dateStr);
  const datePart = date.toLocaleDateString('zh-TW', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
  const timePart = date.toLocaleTimeString('zh-TW', {
    hour: '2-digit',
    minute: '2-digit',
    hour12: false
  });
  return `${datePart} ${timePart}`;
};
---

<BaseLayout title={`${frontmatter.title} | Jeffrey0117`} description={frontmatter.description}>
  <article>
    <a href="/" class="back-link">← 返回列表</a>
    
    <header class="post-header">
      <h1 class="post-title">{frontmatter.title}</h1>
      <div class="post-meta">
        <time datetime={frontmatter.date}>{formatDate(frontmatter.date)}</time>
        {frontmatter.tags && frontmatter.tags.length > 0 && (
          <span class="post-tags">
            {frontmatter.tags.map((tag) => (
              <span class="tag">{tag}</span>
            ))}
          </span>
        )}
      </div>
    </header>

    <div class="post-content">
      <slot />
    </div>
  </article>
</BaseLayout>
